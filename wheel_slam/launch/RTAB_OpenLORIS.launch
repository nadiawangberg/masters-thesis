
<launch>
  
  <arg name="openLORIS" default="true"/>
  <arg name="ns" value="d400" if="$(arg openLORIS)"/>
  <arg name="ns" value="kinect" unless="$(arg openLORIS)"/>


  <include file="$(find rtabmap_ros)/launch/rtabmap.launch" >
      <!-- <arg name="namespace" value="$(arg ns)" /> -->

      <!-- <arg name="subscribe_rgbd" value="true" /> -->

      <arg name="rtabmap_args" value="--delete_db_on_start --Optimizer/GravitySigma 0.3"/>
      

      <!-- <arg name="map_frame_id" value="map_RTAB"/> -->
      <!-- Comment in to use external odometry -->
      <!-- <arg name="visual_odometry" value="false"/> -->
      <!-- <arg name="odom_topic" value="/odom"/> -->

      <!-- OpenLORIS (d400)-->
      <arg name="rgb_topic" value="/$(arg ns)/color/image_raw" if="$(arg openLORIS)"/>
      <arg name="depth_topic" value="/$(arg ns)/aligned_depth_to_color/image_raw" if="$(arg openLORIS)"/>
      <arg name="camera_info_topic"  value="/$(arg ns)/color/camera_info" if="$(arg openLORIS)"/>

      <!-- MuSe (kinect)-->
      <arg name="rgb_topic" value="/$(arg ns)/rgb/image_raw" unless="$(arg openLORIS)"/>
      <arg name="depth_topic" value="/$(arg ns)/depth/image_raw" unless="$(arg openLORIS)"/>
      <arg name="camera_info_topic"  value="/$(arg ns)/rgb/camera_info" unless="$(arg openLORIS)"/>

      <arg name="queue_size"         value="200"/>
      <arg name="rviz"               value="false"/>
      <arg name="rtabmapviz"         value="false" />

      <arg name="frame_id" value="$(arg ns)_link"/>

      <arg name="approx_sync" value="false"/>


      <!-- <arg name="depth_camera_info_topic" value="/$(arg ns)/depth/camera_info"/>
      <arg name="approx_sync" value="false"/>
      <arg name="wait_imu_to_init" value="true"/>
      <arg name="imu_topic" value="$(arg ns)/imu"/> -->
    </include>


</launch>