<launch>
    <arg name="rviz" default="true"/>
    <arg name="scene" default="0_none"/>

    <param name="/use_sim_time" value="true"/>
    

    <node name="camera_link_publisher" pkg="tf2_ros" type="static_transform_publisher" args="0 0 0 1 0 0 0 world drone"/>

    <group if="$(eval arg('scene') == '0_none')">
        <node pkg="rosbag" type="play" name="player" args="$(find robust_slam)/bags/VIODE/0_none.bag  --clock
            /odometry:=/kimera_vio_ros/gt_odom
        "/>
    </group>

    <group if="$(eval arg('scene') == '1_low')">
        <node pkg="rosbag" type="play" name="player" args="$(find robust_slam)/bags/VIODE/1_low.bag  --clock
            /odometry:=/kimera_vio_ros/gt_odom
        "/>
    </group>

    <group if="$(eval arg('scene') == '2_mid')">
        <node pkg="rosbag" type="play" name="player" args="$(find robust_slam)/bags/VIODE/2_mid.bag  --clock
            /odometry:=/kimera_vio_ros/gt_odom
        "/>
    </group>

    <group if="$(eval arg('scene') == '3_high')">
        <node pkg="rosbag" type="play" name="player" args="$(find robust_slam)/bags/VIODE/3_high.bag  --clock
            /odometry:=/kimera_vio_ros/gt_odom
        "/>
    </group>

    <group if="$(arg rviz)">
            <node name="rviz" pkg="rviz" type="rviz" args="-d $(find robust_slam)/rviz/VIODE.rviz" required="true" />
    </group>

</launch>